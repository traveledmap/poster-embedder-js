!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e=e||self)["traveledmap-poster-embed-lib"]={})}(this,(function(e){"use strict";const i=["pastel-blue","pastel-pink","pastel-camel","pastel-red","pastel-green","light-gray"];class t{constructor(e,i){this.containerEl=null,this.iframeEl=null,this.containerSelector=e,this.config=i,this.init()}init(){this.containerEl=document.querySelector(this.containerSelector),this.containerEl?this.checkConfiguration()&&this.render():console.error(`[TraveledMapPoster] Could not find element with selector '${this.containerSelector}'`)}checkConfiguration(){var e,t,o,s;return 0===(null===(e=this.config.actions)||void 0===e?void 0:e.length)?(console.error("[TraveledMapPoster] You need to provide at least one action."),!1):this.config.templateId&&!this.config.userId?(console.error("[TraveledMapPoster] If a templateId is provided, a userId is required."),!1):((null===(t=this.config.mapStyle)||void 0===t?void 0:t.default)&&!i.includes(this.config.mapStyle.default)&&console.warn("[TraveledMapPoster] The given default mapStyle is not supported."),this.config.templateId||!(null===(o=this.config.title)||void 0===o?void 0:o.isEditable)&&!(null===(s=this.config.subtitle)||void 0===s?void 0:s.isEditable)||console.warn("[TraveledMapPoster] Title and subtitle can only be edited when using a template."),this.config.affId||console.warn("No affId provided, commissions can not not be tracked."),!0)}buildEmbedUrl(){var e,i,t,o,s,n,l,r,d,a,c,f,h;const u=new URLSearchParams;return(null===(e=this.config.actions)||void 0===e?void 0:e.length)&&u.set("actions",this.config.actions.join(",")),this.config.affId&&u.set("affId",this.config.affId),this.config.userId&&u.set("userId",this.config.userId),this.config.templateId&&u.set("templateId",this.config.templateId),(null===(i=this.config.mapStyle)||void 0===i?void 0:i.default)&&u.set("mapStyleDefault",this.config.mapStyle.default),void 0!==(null===(t=this.config.mapStyle)||void 0===t?void 0:t.isEditable)&&u.set("mapStyleIsEditable",String(this.config.mapStyle.isEditable)),(null===(o=this.config.format)||void 0===o?void 0:o.availableFormats)&&u.set("formatAvailableFormats",this.config.format.availableFormats.join(",")),void 0!==(null===(s=this.config.format)||void 0===s?void 0:s.isEditable)&&u.set("formatIsEditable",String(this.config.format.isEditable)),void 0!==(null===(n=this.config.title)||void 0===n?void 0:n.isEditable)&&u.set("titleIsEditable",String(this.config.title.isEditable)),void 0!==(null===(l=this.config.subtitle)||void 0===l?void 0:l.isEditable)&&u.set("subtitleIsEditable",String(this.config.subtitle.isEditable)),(null===(r=this.config.background)||void 0===r?void 0:r.color)&&u.set("backgroundColor",this.config.background.color),void 0!==(null===(d=this.config.background)||void 0===d?void 0:d.isHidden)&&u.set("backgroundIsHidden",String(this.config.background.isHidden)),void 0!==this.config.shouldHideFrame&&u.set("shouldHideFrame",String(this.config.shouldHideFrame)),this.config.currency&&u.set("currency",this.config.currency),this.config.deliveryCountry&&u.set("deliveryCountry",this.config.deliveryCountry),(null===(a=this.config.reseller)||void 0===a?void 0:a.id)&&u.set("resellerId",this.config.reseller.id),(null===(c=this.config.reseller)||void 0===c?void 0:c.name)&&u.set("resellerName",this.config.reseller.name),(null===(f=this.config.customerDetails)||void 0===f?void 0:f.emailAddress)&&u.set("customerEmail",this.config.customerDetails.emailAddress),(null===(h=this.config.customerDetails)||void 0===h?void 0:h.sendOn)&&u.set("customerEmailScheduledDate",this.config.customerDetails.sendOn),this.config.redirectToHost&&u.set("redirectToHost",this.config.redirectToHost),"https://www.traveledmap.com/posters/embed?"+u.toString()}render(){if(!this.containerEl)return;const e=this.buildEmbedUrl();this.containerEl.innerHTML=`\n      <iframe\n          class="traveledmap-poster-embed__iframe"\n          src="${e}"\n          frameborder="0"\n          allow="fullscreen"\n          loading="lazy"\n          style="width: 100%; min-height: 100%;"\n        ></iframe>\n    `,this.iframeEl=this.containerEl.querySelector(".traveledmap-poster-embed__iframe")}destroy(){this.containerEl&&(this.containerEl.innerHTML=""),this.iframeEl=null}}window.TraveledMapPoster=t,e.TraveledMapPoster=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=traveledmap-poster-embed-lib.umd.production.min.js.map
